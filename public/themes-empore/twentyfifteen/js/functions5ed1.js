!function(e){e.fn.autoResize=function(t){var a=e.extend({onResize:function(){},animate:!0,animateDuration:150,animateCallback:function(){},extraSpace:20,limit:1e3},t);return this.filter("textarea").each(function(){var t=e(this).css({resize:"none","overflow-y":"hidden"}),s=t.height(),i=function(){var a=["height","width","lineHeight","textDecoration","letterSpacing"],s={};return e.each(a,function(e,a){s[a]=t.css(a)}),t.clone().removeAttr("id").removeAttr("name").css({position:"absolute",top:0,left:-9999}).css(s).attr("tabIndex","-1").insertBefore(t)}(),n=null,o=function(){i.height(0).val(e(this).val()).scrollTop(1e4);var o=Math.max(i.scrollTop(),s)+a.extraSpace,r=e(this).add(i);if(n!==o){if(n=o,o>=a.limit)return void e(this).css("overflow-y","");a.onResize.call(this),a.animate&&"block"===t.css("display")?r.stop().animate({height:o},a.animateDuration,a.animateCallback):r.height(o)}};t.unbind(".dynSiz").bind("keyup.dynSiz",o).bind("keydown.dynSiz",o).bind("change.dynSiz",o)}),this}}(jQuery);var changePlaceFields=function(){for(var e=[".hs_file_1",".hs_file_2",".hs_file_3"],t=e.length,a=jQuery("<div/>").addClass("form-attach"),s=jQuery("<div/>").addClass("form-attach__files"),i=jQuery("<div/>").addClass("form-attach__icon").text("Attach files"),n=jQuery("<div/>").addClass("form-attach__errors"),o=jQuery("<div/>").addClass("form-attach__names"),r=jQuery(".hs_file_1").parent(),l=0;t>l;l++){var c=jQuery(e[l]),d=jQuery(e[l]+" .hs-input");c.attr("data-fblock","file-field-"+l),d.attr("data-file","file-field-"+l),s.append(c.clone()),c.remove()}a.append(s.append(i),n,o),r.append(a)},fileFieldClear=function(e){var t=e.parent(),a=t.html();t.html("").html(a)},getAttachName=function(e){reWin=/.*\\(.*)/;var t=e.replace(reWin,"$1");return reUnix=/.*\/(.*)/,t=t.replace(reUnix,"$1")},fileValidation=function(e){var t=20971520,a=/\.(gif|jpe?g|png|pdf|txt|docx?|xlsx?)/,s={type:"Filetype not allowed<br />(only gif, jpg, png, pdf, txt, doc, docx, xls, xlsx)",size:"File is too large (max size 20mb)"},i=getAttachName(e.value),n=e.files[0].size,o=a.test(i);return o?n&&n>t?($(".form-attach__errors").html(s.size),fileFieldClear(jQuery(e)),!1):!0:($(".form-attach__errors").html(s.type),fileFieldClear(jQuery(e)),!1)},fileNameGener=function(e){var t=getAttachName(e.value),a=jQuery(e).attr("data-file"),s=jQuery("<div/>").addClass("form-attach__wrapp-name").append(jQuery("<div/>").addClass("form-attach__file-name").attr("data-name",a).text(t));jQuery(".form-attach__names").append(s)},attachIconHide=function(){var e=jQuery(".form-attach .hs-form-field").length,t=jQuery(".form-attach .hs-form-field.hide").length;t>=e?jQuery(".form-attach__icon").addClass("hidden"):jQuery(".form-attach__icon").removeClass("hidden")},errorContainerClear=function(){jQuery(".form-attach__errors").html("")},fileFieldsCustom=function(){changePlaceFields(),jQuery(".form-attach__files .hs-form-field").not(":eq(0)").addClass("hide"),jQuery(".form-attach__files .hs-form-field:first").addClass("visible"),jQuery("body").on("change",".form-attach__files .hs-input",function(){var e=this;if(fileValidation(e)){fileNameGener(e),errorContainerClear();var t=jQuery(e).attr("data-file"),a='.form-attach .hs-form-field[data-fblock="'+t+'"]';jQuery(a).removeClass("visible").addClass("hide js-filled");var s=jQuery(".form-attach__files .hs-form-field.hide:not(.js-filled)");s.length&&jQuery(s[0]).removeClass("hide").addClass("visible"),attachIconHide()}}),jQuery("body").on("click",".form-attach__file-name",function(){var e=jQuery(this),t=e.attr("data-name"),a='.hs-input[data-file="'+t+'"]',s='.form-attach .hs-form-field[data-fblock="'+t+'"]';e.parent().remove(),fileFieldClear(jQuery(a)),jQuery(".form-attach .hs-form-field.visible").length?jQuery(s).removeClass("js-filled"):jQuery(s).removeClass("js-filled hide").addClass("visible"),attachIconHide()})},ndaSent=function(e,t,a){jQuery.ajax({url:e,data:{nda_sent:1,u_name:t,u_email:a},dataType:"json",type:"POST"})},setCookie=function(e,t,a){a=a||{};var s=a.expires;if("number"==typeof s&&s){var i=new Date;i.setTime(i.getTime()+1e3*s),s=a.expires=i}s&&s.toUTCString&&(a.expires=s.toUTCString()),t=encodeURIComponent(t);var n=e+"="+t;for(var o in a){n+="; "+o;var r=a[o];r!==!0&&(n+="="+r)}document.cookie=n},getCookies=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):""},deleteCookie=function(e){setCookie(e,"",{expires:-1})},getRef=function(){return document.referrer},isExternalLink=function(e){for(var t,a=["https://xbsoftware.com","https://xbsoftware.ru/","http://192.168.1.192"],s=!0,i=0;2>=i;i++)if(t=e.indexOf(a[i]),t+1&&0==t){s=!1;break}return s},setCookieRef=function(){var e=getRef();isExternalLink(e)&&(deleteCookie("referer"),setCookie("referer",e,{expires:300}))},saveReferrerToStorage=function(){var e=window.localStorage,t=e.getItem("referrer"),a=document.referrer;t||e.setItem("referrer",a),e.setItem("pageOfInterest",a)},getLocationY=function(){ymaps.ready(function(){var e=ymaps.geolocation,t=e.country+", "+e.city;return t})};!function(e){function t(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var a=e.indexOf("Trident/index.html");if(a>0){var s=e.indexOf("rv:");return parseInt(e.substring(s+3,e.indexOf(".",s)),10)}var i=e.indexOf("Edge/index.html");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):!1}function a(t){if(!d){var a;t=t||window.event,t.wheelDelta?(a=t.wheelDelta/120,window.opera&&(a=-a)):t.detail&&(a=-t.detail/3),d||(t.preventDefault&&t.preventDefault(),t.returnValue=!1),i.scrollTop()<200||(Z(),d=!0,u=!0),0>a&&!u&&(u=!0,e(".scroll-stop").ScrollTo({offsetTop:40,easing:"easeInOutCubic",duration:1100,callback:function(){Z(),d=!0}}))}}function s(){var e,t,a,s,i={"input.form-page-title":{selector:".js-page-title",attribute:"data-page-title"},"input#title-form-landing":{selector:".js-page-landing-title",attribute:"data-page-title"}};for(a in i)e=document.querySelector(a),t=document.querySelector(i[a].selector),e&&t&&(s=t.getAttribute(i[a].attribute),e.value=s,e.setAttribute("value",s));return!0}var i=e(window),n=e(document),o=e("body"),r=!0,l=!0,c=!0,d=!1,u=!1,f=e(".header"),h=e(".footer"),v=viewportWidth(),p=e(".js-open-menu"),m=e(".js-close-menu"),g=e(".js-mobile-menu"),b=e(".hmenu-li > .menu-link"),C=e(".header-search-field"),w=e(".wpcf7-form"),x=function(){var e=viewportWidth();return e!=v?!0:!1};i.resize(function(){x()&&B()}),i.resize(function(){v=viewportWidth()});var k,y,j=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},T=function(){l&&(ne.addClass("visible-btn"),r=!0,l=!1)},_=function(){r&&(ne.removeClass("visible-btn"),r=!1,l=!0)},S=function(){if(e(".to-top-btn").length){var t=h.offset().top,a=i.height(),s=i.scrollTop();a+s-t>0?ne.css({position:"absolute"}).addClass("to-top-footer"):ne.css({position:"fixed"}).removeClass("to-top-footer")}},I=function(e){c=!1;var t=jQuery(".xb-popup-form");t.addClass("visible-popup"),t.width();var a=jQuery(e).find(".text-field").blur().val();jQuery(".email-value").html(a),jQuery(".email-value-hidden").val(a),t.addClass("opened-popup");setTimeout(function(){c=!0},400)},Q=function(){var t=jQuery(".xb-popup-form");t.removeClass("opened-popup");setTimeout(function(){jQuery(".subscribe-finished-message").remove(),jQuery(".subscribe-popup-container-inside").removeClass("no-visible hidden"),t.removeClass("visible-popup")},250);e(".subscribe-form .text-field").focus().blur()},z=function(){var e=jQuery(".with-loader");e.addClass("loading"),e.width(),e.addClass("go-loading")},O=function(e){var t="<div>"+e+'</div><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href=https://www.facebook.com/xbsoftware&send=false&layout=box_count&show_faces=true&action=like&colorscheme=light" scrolling="no" frameborder="0" class="facebook-iframe subscr-facebook-iframe" allowTransparency="true"></iframe>',a=jQuery(".with-loader");a.removeClass("go-loading"),jQuery(".subscribe-popup-container-inside").addClass("no-visible"),jQuery(".subscribe-popup-container").append(jQuery("<div />").addClass("subscribe-finished-message").html(t));setTimeout(function(){a.removeClass("loading"),jQuery(".subscribe-popup-container-inside").addClass("hidden");var e=jQuery(".subscribe-finished-message");e.addClass("visible"),e.width(),e.addClass("scaled")},250)},D=function(){var e=3,t={zoom:4,center:new google.maps.LatLng(lat,lng)},a=new google.maps.Map(document.getElementById("google-map"),t),s="wp-content/themes/twentyfifteen/images/marker-map-min.png",i=new google.maps.LatLng(lat,lng);new google.maps.Marker({position:i,map:a,icon:s});google.maps.event.addListener(a,"zoom_changed",function(){console.log(a.getZoom()),a.getZoom()<e&&a.setZoom(e)});var n=new google.maps.LatLngBounds(new google.maps.LatLng(-65,-80),new google.maps.LatLng(65,80));google.maps.event.addListener(a,"dragend",function(){var e=n.getNorthEast().lat(),t=n.getSouthWest().lat(),s=n.getNorthEast().lng(),i=n.getSouthWest().lng(),o=a.getCenter().lng(),r=a.getCenter().lat();(e>r&&r>0||r>t&&0>r)&&(s>o&&o>0||o>i&&0>o)||(t>r&&(r=t),r>e&&(r=e),i>o&&(o=i),o>s&&(o=s),a.setCenter(new google.maps.LatLng(r,o)))})},P=function(e){e.addClass("checkbox-box-checked")},H=function(e){e.removeClass("checkbox-box-checked")},q=function(t){var a=e(".subscription-possibility");"disable"==t?a.addClass("subscription-disable"):a.removeClass("subscription-disable")},E=function(){e(".attachement_section .attach-file").each(function(){e(this).removeClass("filled visible").addClass("hide")}),e(".attachement_section .attach-file:first-child").removeClass("hide").addClass("visible")},A=function(t){if(t){var a=e('[name="'+t+'"]').parent(),s=a.html();a.html("").html(s),a.parent().removeClass("filled")}else ye&&(ye.html("").append("<span class='error-file'></span>"),e(".attach-file .wpcf7-form-control-wrap").each(function(){var t=e(this).html();e(this).html("").html(t),E()}))},L=function(){$(),M(),e(".gallery_block").addClass("gallery-charged")},$=function(){e(".product_gallery a").click(function(){if(e(this).hasClass("roundabout-in-focus")){var t=e(this),a=e(".product_gallery a").index(t);e(".product_gallery").magnificPopup("open",a)}})},M=function(){var t=e(".product_gallery");t.roundabout({childSelector:"a",responsive:!0,duration:700,clickToFocus:!0,maxOpacity:1,minOpacity:1,triggerFocusEvents:!1});var a=!1;e.magnificPopup.instance.next=function(){var t=this.currItem,s=t.el.parent();a&&(clearTimeout(a),s.roundabout("stopAnimation")),a=setTimeout(function(){s.roundabout("allowAnimation"),s.roundabout("animateToChild",2!=t.index?t.index+1:0)},10),e.magnificPopup.proto.next.call(this)},e.magnificPopup.instance.prev=function(){var t=this.currItem,s=t.el.parent();a&&(clearTimeout(a),s.roundabout("stopAnimation")),a=setTimeout(function(){s.roundabout("allowAnimation"),s.roundabout("animateToChild",0!=t.index?t.index-1:2)},10),e.magnificPopup.proto.prev.call(this)},t.each(function(){e(this).magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]}})})},F=function(){for(var t=e(".row-testing-form-with-select select, .free-consultation-select select"),a=t.length,s=0;a>s;s++){var i=e(t[s]);i.addClass("hide-select");var o=i.parent(),r=i.children("option:selected").html(),l=e("<span />").addClass("xb-custom-select"),c=e("<span />").addClass("xb-custom-select-value").html(r);o.append(l.append(c,R(i)))}e(".xb-custom-select").on("click touchleave",function(){if($this=e(this),$this.hasClass("xb-opened-select")){$this.removeClass("xb-opened-select");var t=setTimeout(function(){e(".vs-next-field-focus").remove(),clearTimeout(t)},200)}else{e(".xb-custom-select").removeClass("xb-opened-select"),$this.addClass("xb-opened-select");var a=$this.parent().parent();a.append(e("<div />").addClass("vs-next-field-focus").width(a.width()))}}),e(".xb-option-item").on("click touchleave",function(){$this=e(this);var t=$this.html(),a=$this.attr("data-value"),s=$this.attr("data-select");$this.parent().prev().html(t),e("#"+s).val(a).change();var i=e(".row-testing-form[data-other-select='"+s+"']");i.length&&("Other"==t?i.removeClass("hidden-row"):i.addClass("hidden-row"))}),n.click(function(t){if(!e(t.target).closest(".xb-custom-select").length){e(".xb-custom-select").removeClass("xb-opened-select");setTimeout(function(){e(".vs-next-field-focus").remove()},200);t.stopPropagation()}})},R=function(t){for(var a=t.children("option"),s=a.length,i=e("<span />").addClass("xb-options-list"),n=0;s>n;n++){var o=e(a[n]),r=o.html(),l=o.val();i.append(e("<span />").addClass("xb-option-item").attr({"data-value":l,"data-select":t.attr("id")}).html(r))}return i},N=function(e,t,a){e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent&&e.attachEvent("on"+t,a)},U=function(e,t,a){e.removeEventListener?e.removeEventListener(t,a):e.dettachEvent&&e.dettachEvent("on"+t,a)},W=function(){N(window,"DOMMouseScroll",a),N(window,"mousewheel",a),N(document,"mousewheel",a)},Z=function(){U(window,"DOMMouseScroll",a),U(window,"mousewheel",a),U(document,"mousewheel",a)},V=e(".js-menu-panel"),Y=!1,B=function(){v>1025&&(y=i.scrollTop(),y>250&&!Y&&(k&&clearTimeout(k),Y=!0,V.css({transform:"translateY(-100%) translateZ(0)"}).addClass("fixed-nav").find('.logo_top').attr('src', 'images/empore.png') ,V.width(),V.css({transition:"transform 0.2s ease-in-out",transform:"translateY(0) translateZ(0)"})),100>=y&&Y&&(V.css({transition:"transform 0.15s ease-in-out",transform:"translateY(-100%) translateZ(0)"}),k=setTimeout(function(){V.css({transition:"transform 0s ease-in-out",transform:"translateY(0) translateZ(0)",opacity:"0"}),V.width(),V.removeClass("fixed-nav").css({transition:"opacity 0.5s ease-in-out",opacity:"1"}).find('.logo_top').attr('src','images/empore-2.png') },150),Y=!1))};v>1025&&B(),i.scroll(function(){v>1025&&B()});var G=function(e,t){return str='<a href="mailto:'+e+"@"+t+'" class="menu-link">'+e+"@"+t+"</a>"};e(".email-in-footer, .email-in-contacts").html(G("contact","xbsoftware.com")),e(".pp-mail").html(G("info","xbsoftware.com"));var J,K=e(".site-nav"),X=e(".hmenu-li"),ee=e(".hmenu-li > a"),te=e(".main-menu .menu-item-has-children > a"),ae=e(".hmenu-li > .sub-menu");ee.on("mouseenter",function(){if(v>1024){var t=e(this);X.removeClass("hover"),J&&clearTimeout(J),t.parent().addClass("hover")}}),X.on("mouseleave",function(){if(v>1024){e(this);clearTimeout(J),J=setTimeout(function(){X.removeClass("hover")},250)}}),ae.on("mouseenter",function(){if(v>1024){var t=e(this),a=t.parent();a.hasClass("hover")&&J&&clearTimeout(J)}}),o.on("click",".menu-disabled a",function(e){e.preventDefault()}),te.on("click",function(t){if(j()&&v>1024){var a=e(this);a.hasClass("touch-active")||(te.removeClass("touch-active"),a.addClass("touch-active"),t.preventDefault())}}),n.click(function(t){e(t.target).closest(X).length||(te.removeClass("touch-active"),X.removeClass("hover"),t.stopPropagation())}),p.on("click touchleave",function(e){e.preventDefault(),C.attr("placeholder","SEARCH"),g.addClass("visible"),g.width(),g.addClass("active"),setTimeout(function(){o.addClass("m-menu-opened")},300)}),m.on("click touchleave",function(e){e.preventDefault(),g.removeClass("active"),setTimeout(function(){X.removeClass("active"),g.removeClass("visible"),o.removeClass("m-menu-opened")},300)}),b.on("click touchleave",function(t){if(1025>v){t.preventDefault();var a=e(this),s=a.parent();s.hasClass("active")?s.removeClass("active"):(X.removeClass("active"),s.addClass("active"))}});var se=e(".js-search-open"),ie=e(".header-search");se.on("click",function(){if(v>1024){var a=e(this).parent();a.hasClass("active")?(a.removeClass("active"),K.removeClass("menu-disabled")):(a.addClass("active"),t()>=10||C.focus(),K.addClass("menu-disabled"))}}),n.click(function(t){e(t.target).closest(ie).length||(ie.removeClass("active"),K.removeClass("menu-disabled"),t.stopPropagation())}),F();var ne=e(".to-top-btn");ne.on("click",function(){f.ScrollTo({easing:"easeInOutCubic",duration:1100,callback:function(){}})}),i.scrollTop()>300&&(T(),l=!1),i.scroll(function(){i.scrollTop()>300?(T(),l=!1):(_(),r=!1)}),v>1024&&(i.load(function(){S()}),i.scroll(function(){S()})),v>1024&&(e(".about-company-home, .key-technologies").addClass("desktop"),e().waypoint&&e(".about-company-home").waypoint(function(){var t=0,a=e(".count-up").length,s=setInterval(function(){t>=a&&clearInterval(s),e(".count-up").eq(t).counterUp({delay:10,time:1500}),t++},200)},{offset:"65%",triggerOnce:!0}),e(".to-down").click(function(){e(".scroll-stop").ScrollTo({offsetTop:40,easing:"easeInOutCubic",duration:1100})})),e(".google-map").length&&google.maps.event.addDomListener(window,"load",D);var oe=e(".xb-checkbox"),re=e(".required-checkbox"),le=e(".required-subscription-checkbox"),ce=function(){var t=!1;if(le.hasClass("checkbox-box-checked"))for(var a=0;a<re.length;a++)if(e(re[a]).hasClass("checkbox-box-checked")){t=!0;break}q(t?"enable":"disable"),t=!1};oe.on("click",function(){var t=e(this).children(".checkbox-box");t.hasClass("checkbox-box-checked")?H(t):P(t)});var de=e(".all-news-checkbox"),ue=de.children(".checkbox-box"),fe=e(".it-outsourcing-news-checkbox"),he=fe.children(".checkbox-box"),ve=e(".web-dev-news-checkbox"),pe=ve.children(".checkbox-box"),me=e(".subscription-checkbox");de.on("click",function(){ue.hasClass("checkbox-box-checked")?(P(he),P(pe)):(H(he),H(pe)),ce()}),fe.on("click",function(){he.hasClass("checkbox-box-checked")&&pe.hasClass("checkbox-box-checked")?P(ue):H(ue),ce()}),ve.on("click",function(){he.hasClass("checkbox-box-checked")&&pe.hasClass("checkbox-box-checked")?P(ue):H(ue),ce()}),me.on("click",function(){ce()}),e(".subscribe-to-news-form").submit(function(t){t.preventDefault(),z();var a={customer_email:e("#customer-email").val()},s=e(".check-news-container .checkbox-box");if(s.length>0){for(var i=0;i<s.length;i++)e(s[i]).hasClass("checkbox-box-checked")&&(a[e(s[i]).attr("data-name")]=1);e.ajax({url:ajaxUrl,data:a,type:"POST",dataType:"json",cache:!1,success:function(){e(".subscribe-form .text-field").val(""),O("Thank You for Subscribing")}})}}),e(".subscribe-popup .close-popup").on("click",function(){Q()});var ge=e(".open-request-testing-form, .js-open-vacancy-form"),be=e(".js-open-vacancy-form"),Ce=e(".js-vacancy-contact-us"),we=e(".vacancy-dev-form"),xe=e(".vacancy-seo-form");if(be.on("click",function(){var t=e(this),a=e(this).attr("data-form-title");e(".vacancy-name-hidden").val(a),e(".js-form-title").removeClass("hide"),t.hasClass("js-vacancy-contact-us")||e(".request-vacancy-popup .xb-post-title").html("Apply for this job"),t.hasClass("js-open-vacancy-seo")?(we.addClass("hidden"),xe.removeClass("hidden")):(we.removeClass("hidden"),xe.addClass("hidden")),e(".js-form-title").removeClass("hide")}),Ce.on("click",function(){e(".request-vacancy-popup .xb-post-title").html("Contact Us")}),ge.on("click",function(t){t.preventDefault();var a=e(".xb-popup-form");o.addClass("mobile-viewport-hidden fixed-body"),a.addClass("visible-popup"),a.width(),a.addClass("opened-popup")}),e(".request-testing-popup .close-popup, .request-vacancy-popup .close-popup").on("click",function(){var t=e(".xb-popup-form");t.removeClass("opened-popup");setTimeout(function(){e(".xb-popup-form .wpcf7-form").hasClass("sent")&&(e(".xb-popup-form .wpcf7-form").removeClass("sent"),e(".wpcf7-response-output").removeClass("wpcf7-mail-sent-ok").attr("style","").html("")),t.removeClass("visible-popup"),o.removeClass("mobile-viewport-hidden fixed-body")},250)}),e(".popup-subscribing-container").on("click",function(t){e(t.target).closest(e(".subscribe-popup")).length||(c&&Q(),t.stopPropagation())}),e(".popup-request-form").on("click",function(t){if(!e(t.target).closest(e(".request-testing-popup")).length&&!e(t.target).closest(e(".request-vacancy-popup")).length){jQuery(".xb-popup-form").removeClass("opened-popup");setTimeout(function(){e(".xb-popup-form .wpcf7-form").hasClass("sent")&&(e(".xb-popup-form .wpcf7-form").removeClass("sent"),e(".wpcf7-response-output").removeClass("wpcf7-mail-sent-ok").attr("style","").html("")),e(".xb-popup-form").removeClass("visible-popup"),o.removeClass("mobile-viewport-hidden fixed-body")},250);t.stopPropagation()}}),e(".attach-file").length){var ke,ye,je=20971520,Te=/\.(gif|jpe?g|png|pdf|txt|docx?|xlsx?)/;e(".attach-file input[type=file]"),e(".icon-delete");E(),o.on("change",".attach-file input[type=file]",function(){e(".wpcf7-response-output").hide(),e(".error-file").html("");var t=getAttachName(this.value),a=Te.test(t);if(!a){var s=e(this).attr("name");return A(s),e(".error-file").html("Filetype not allowed<br />(only gif, jpg, png, pdf, txt, doc, docx, xls, xlsx)"),!1}var i=this.files[0].size;if(i&&i>je){var s=e(this).attr("name");return A(s),e(".error-file").html("File is too large (max size 20mb)"),!1}ke=e(this).parent().parent().parent(),ye=ke.find(".file-name"),e(this).each(function(){ye.append('<div id="name_'+e(this).attr("name")+'"><span class="userfile_name">'+getAttachName(this.value)+'</span><span class="icon icon-delete"></span></div>');var t=ke.find(".attach-file.hide:not(.filled)");e(t[0]).addClass("visible").removeClass("hide"),e(this).parent().parent().removeClass("visible").addClass("hide filled")})}),o.on("click",".icon-delete",function(){e(this).parent().remove();var t=e(this).parent().attr("id").replace("name_","");A(t),ke.find(".attach-file.visible").length||ke.find("#"+t).removeClass("hide").addClass("visible")})}i.load(function(){e(".product_gallery").length&&L()}),e.validator.addMethod("phonevalidation",function(e,t){return""==e||/^[\(\)0-9\+\-\/\s\/]+$/.test(e)}),e.validator.addMethod("emailvalidation",function(e,t){return""==e||/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,6})+$/.test(e)}),w.each(function(t){t=e(this).validate({rules:{},messages:{}}),e(this).submit(function(){var a=e("select[name='user_department']").val(),s=e("select[name='user_role']").val(),i=!1,n="This field is required.";return""==a&&(t.showErrors({user_department:n}),i=!0),""==s&&(t.showErrors({user_role:n}),i=!0),"How Can We Help"==s&&(t.showErrors({user_role:n}),i=!0),i?!1:void 0});var a=e(this).find("select");a.change(function(){var t=e(this),a=t.val();""!=a&&t.hasClass("error")&&t.removeClass("error").next().remove()})}),e(".subscribe-form").validate({rules:{subscriber_email:{required:!0,emailvalidation:!0}},messages:{subscriber_email:{required:"This field is required.",emailvalidation:"Please enter a valid email address."}},submitHandler:function(t){I(t),e(t).submit(function(){return!1})}}),e(".xb-products-slider").slick({slidesToShow:3,centerMode:!0,variableWidth:!0,appendArrows:e(".xb-products-slider-wrapper")}),e(".carousel-projects").slick({centerMode:!0,centerPadding:"60px",slidesToShow:4,variableWidth:!0,responsive:[{breakpoint:1024,settings:{centerMode:!0,centerPadding:"15px",slidesToShow:3}},{breakpoint:960,settings:{arrows:!1}}]}),e(".event-carousel, .services-carousel").slick({infinite:!0,arrows:!1,speed:100,fade:!0,cssEase:"linear",adaptiveHeight:!0,autoplay:!0,autoplaySpeed:5e3,pauseOnHover:!0});var _e=e(".js-ams-apps-carousel");_e.each(function(){var t=e(this),a=t.slick({infinite:!0,arrows:!0,dots:!0,speed:500,fade:!1,cssEase:"ease",autoplay:!0,autoplaySpeed:2e3,responsive:[{breakpoint:1180},{breakpoint:1024},{breakpoint:770},{breakpoint:660},{breakpoint:550},{breakpoint:480},{breakpoint:360}]});a.on("swipe",function(){a.slick("slickPause")}),e(".ams-carousel .slick-dots li.slick-active button, .ams-carousel .slick-next").on("click",function(){a.slick("slickPause")})});var Se=e(".js-progress-carousel-prev"),Ie=e(".js-progress-carousel-next"),Qe=e(".js-progress-carousel"),ze=Qe.slick({slidesToShow:5,speed:500,autoplay:!0,autoplaySpeed:2e3,arrows:!1,pauseOnFocus:!1,pauseOnHover:!0,responsive:[{breakpoint:1281,settings:{slidesToShow:4}},{breakpoint:1025,settings:{slidesToShow:3}},{breakpoint:771,settings:{slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1}}]});Se.on("click",function(){ze.slick("slickPause"),ze.slick("slickPrev")}),Ie.on("click",function(){ze.slick("slickPause"),ze.slick("slickNext")}),ze.on("swipe",function(){ze.slick("slickPause")}),Qe.on("mouseleave",function(){ze.slick("slickPlay")});var Oe=function(t){var a=t,s=a.length;a.removeClass("full-height-img");for(var i=0;s>i;i++){var n=e(a[i]),o=n.parent(),r=n.height(),l=o.height();l>r&&n.addClass("full-height-img")}},De=e(".js-related-posts-carousel"),Pe=e(".js-related-post-img");De.on("init",function(e){i.load(function(){Oe(Pe)})}),De.slick({slidesToShow:3,speed:500,autoplay:!0,autoplaySpeed:5e3,arrows:!0,accessibility:!1,pauseOnFocus:!0,pauseOnHover:!0,responsive:[{breakpoint:1025,settings:{arrows:!1}},{breakpoint:771,settings:{slidesToShow:2,arrows:!1}},{breakpoint:481,settings:{slidesToShow:1,arrows:!1}}]}),e(".scroll-stop").length&&i.scrollTop()<200&&(j()||W()),saveReferrerToStorage();var He=function(){var t=e(".form-ref-field"),a=e(".form-country-field"),s=e(".form-page-of-interest-field"),i=window.localStorage;t.val(i.getItem("referrer")),s.val(i.getItem("pageOfInterest")),ymaps.ready(function(){var e=ymaps.geolocation;a.val(e.country+", "+e.city)})};w.length&&He(),e.event.special.textchange={setup:function(t,a){e(this).data("lastValue","true"===this.contentEditable?e(this).html():e(this).val()),e(this).bind("keyup.textchange",e.event.special.textchange.handler),e(this).bind("cut.textchange paste.textchange input.textchange",e.event.special.textchange.delayedHandler)},teardown:function(t){e(this).unbind(".textchange")},handler:function(t){e.event.special.textchange.triggerIfChanged(e(this))},delayedHandler:function(t){var a=e(this);setTimeout(function(){e.event.special.textchange.triggerIfChanged(a)},25)},triggerIfChanged:function(e){var t="true"===e[0].contentEditable?e.html():e.val();t!==e.data("lastValue")&&(e.trigger("textchange",[e.data("lastValue")]),e.data("lastValue",t))}};var qe=function(t){setTimeout(function(){t.each(function(){var t=e(this),a=t.closest(".js-material-field");""!=t.val()&&a.addClass("material-field--filled")})},1)},Ee=function(e){var t=e.parent();e.hasClass("valid")?t.addClass("valid-field"):t.removeClass("valid-field"),e.hasClass("error")?t.addClass("error-field"):t.removeClass("error-field")};setTimeout(function(){e(".material-field__textarea").val("").autoResize()},1);var Ae=e(".js-material-field .material-field__input");qe(Ae),Ae.bind("textchange",function(){var t=e(this);qe(t),Ee(t)}),Ae.focus(function(){var t=e(this),a=t.closest(".js-material-field");Ee(t),a.addClass("material-field--focus")}),Ae.blur(function(){var t=e(this),a=t.closest(".js-material-field");Ee(t),a.removeClass("material-field--focus"),""==t.val()?a.removeClass("material-field--filled"):a.addClass("material-field--filled")});var Le=e(".js-form-block");e(".js-form-block input[type=text], .js-form-block input[type=tel], .js-form-block input[type=email], .js-form-block textarea").on("focus",function(){var t=e(this).next();t.hasClass("wpcf7-not-valid-tip")&&t.remove()}),w.on("submit",function(){var t=e(this),a=t.find(".wpcf7-form-control.error");if(t.hasClass("sending-status"))return!1;if(!a.length&&(w.addClass("sending-status"),Le.length)){var s=e("<div />").addClass("form-roof").append(e("<div />").addClass("form-loader"));Le.append(s)}}),w.on("submit",function(){for(var t=e(this),a=t.find(".wpcf7-form-control"),s=a.length,i=0;s>i;i++){var n=e(a[i]);if(!(n.hasClass("wpcf7-file")||n.hasClass("wpcf7-quiz")||n.hasClass("wpcf7-submit")||n.hasClass("wpcf7-select")||n.hasClass("vacancy-name-hidden")||n.hasClass("form-hidden-field"))){var o=n.val();n.val(e.trim(o))}}}),e(".wpcf7").on("wpcf7:mailsent",function(t){e(".js-form-title").addClass("hide"),A()}),n.ajaxComplete(function(){var t=e(".form-roof");w.length&&w.removeClass("sending-status"),t.length&&(t.addClass("hide"),setTimeout(function(){t.remove()},100))});var $e=function(e){e.parent().addClass("loaded")},Me=function(e,t){var a=new Image;a.onload=function(){t.attr("src",e),t.removeAttr("data-src"),$e(t)},a.src=e},Fe=function(){var t=e(".js-lazy-load");t.each(function(){var t=e(this),a=t.attr("data-src");Me(a,t)})};i.load(function(){Fe(),e(".js-bg").addClass("loaded")});var Re=e(".js-spoiler-btn");Re.on("click",function(t){t.preventDefault();var a=e(this),s=a.next();s.hasClass("opened")?(a.removeClass("active"),s.removeClass("opened")):(a.addClass("active"),s.addClass("opened"))});var Ne=function(t,a){for(var s=e(t),i=s.length,n=0;i>n;n++){for(var o=e(s[n]),r=o.find(a),l=r.length,c=0,d=0;l>d;d++){var u=e(r[d]).innerHeight();u>c&&(c=u)}o.innerHeight(c)}},Ue=function(t){for(var a=e(t),s=a.length,i=0;s>i;i++){var n=e(a[i]);n.children(":first-child").addClass("active")}};Ne(".js-parent-elem",".js-child"),Ue(".js-activate"),i.resize(function(){Ne(".js-parent-elem",".js-child")});var We=e(".js-tech-switch");We.on("click",function(t){t.preventDefault();var a=e(this);if(a.hasClass("active"))return!1;var s=a.closest(".js-switcher-container"),i=s.find(".js-switch-content"),n=a.attr("data-switch"),o=s.find(".js-tech-switch.active"),r=s.find(".js-switch-content.active");o.removeClass("active"),r.removeClass("active");var l=e(i[n]);a.addClass("active"),l.addClass("active")});var Ze=e(".js-core-switcher-btn"),Ve=e(".js-core-switch-content");Ze.on("click",function(t){t.preventDefault();var a=e(this);if(a.hasClass("active"))return!1;var s=e(this).attr("data-switch");Ze.removeClass("active"),Ve.removeClass("active");var i=e(Ve[s]);a.addClass("active"),i.addClass("active")});var Ye,Be=e(".home-testimonials"),Ge=e(".js-testimonials-container"),Je=e(".js-testimonials-btn"),Ke=e(".js-testimonial"),Xe=Ke.length,et=e(".js-testimonial-info"),tt=0,at=!0;Ge.on("mouseenter",function(){Ye&&clearInterval(Ye)}),Ge.on("mouseleave",function(){at&&it()}),Je.on("click",function(t){t.preventDefault(),Ye&&(clearInterval(Ye),at=!1);var a=e(this);return a.hasClass("active")?!1:(tt=e(this).attr("data-switch"),Je.removeClass("active"),Ke.removeClass("active"),et.removeClass("active"),a.addClass("active"),e(Ke[tt]).addClass("active"),void e(et[tt]).addClass("active"))});var st=function(t){Je.removeClass("active"),Ke.removeClass("active"),et.removeClass("active"),e(Je[t]).addClass("active"),e(Ke[t]).addClass("active"),e(et[t]).addClass("active")},it=function(){Ye=setInterval(function(){tt++,tt>=Xe&&(tt=0),st(tt)},4e3)},nt=function(e,t,a){if(e.hasClass("active"))return!1;var s=i.height(),n=window.pageYOffset+s-e.offset().top;n>=a&&(e.addClass("active"),t())};Be.length&&(nt(Be,it,150),i.scroll(function(){nt(Be,it,150)}));var ot=0,rt=["/wp-content/themes/twentyfifteen/images/home-bg/home-bg-new-1.jpg","wp-content/themes/twentyfifteen/images/home-bg/home-bg-new-2.jpg","wp-content/themes/twentyfifteen/images/home-bg/home-bg-new-3.jpg","/wp-content/themes/twentyfifteen/images/home-bg/home-bg-new-4.jpg"],lt=rt.length,ct=function(){if(v>1024){if(ot>lt-1)return ut(),!1;var t=new Image;t.onload=function(){var t=e("<div />").addClass("home-head-slide bg-"+(ot+1));dt.append(t),ot++,ct()},t.src=rt[ot]}},dt=e(".js-head-carousel");i.load(function(){dt.length&&ct()});var ut=function(){var t=e(".home-head-slide"),a=t.length,s=0;setInterval(function(){s++,s>=a&&(s=0),t.removeClass("active"),e(t[s]).addClass("active")},4e3)},ft=e(".js-open-vacancy");ft.on("click",function(){var t=e(this),a=t.next();if(t.hasClass("active"))t.removeClass("active"),a.height(0);else{t.addClass("active");var s=a.children(),i=s.innerHeight();a.css("height",i)}}),i.resize(function(){var t=ft.length;if(t)for(var a=0;t>a;a++){var s=e(ft[a]);if(s.hasClass("active")){var i=s.next(),n=i.children(),o=n.innerHeight();i.css("height",o)}}});var ht=function(){for(var t=e(".js-sidebar-container").find(".js-aside-widget"),a=t.length,s=0,i=0;a>=i;i++)s+=e(t[i]).innerHeight();return s},vt=e(".js-fixed-aside"),pt=function(){var t=e(".js-sidebar-container"),a=e(".js-second-fixed-aside"),s=a.innerHeight(),n=t.find(".js-aside-widget"),o=n.length,r=0,l=vt.innerHeight(),c=!1,d=h.offset().top;vt.parent().height(l);for(var u=0;o>=u;u++)r+=e(n[u]).innerHeight();r=ht()+250,i.scroll(function(){if(vt.length&&v>1023){
var e=i.scrollTop();if(e>=r?c||(c=!0,vt.addClass("fixed"),vt.width(),vt.addClass("visible"),a.addClass("fixed")):c&&(c=!1,vt.addClass("fixed-no-visible"),setTimeout(function(){vt.removeClass("fixed-no-visible fixed visible")},100),a.removeClass("fixed")),c){d=h.offset().top;var t=e+l+100;s+60>=d-t?vt.css({position:"absolute",top:"auto",bottom:s+"px"}):vt.attr("style","")}}}),i.resize(function(){1024>v&&(vt.removeClass("fixed-no-visible fixed visible"),a.removeClass("fixed"),vt.parent().attr("style",""))})};if(i.load(function(){vt.length&&v>1023&&n.height()/2.5>=ht()&&pt()}),e(".js-faq-page").length){var mt=e("#header-mini-bg");if(i.scrollTop()<200)var gt=setInterval(function(){mt.hasClass("hidden")&&(setTimeout(function(){e(".scroll-stop").ScrollTo({offsetTop:40,easing:"easeInOutCubic",duration:1100,callback:function(){Z(),d=!0}})},1e3),clearInterval(gt))},100)}var bt=e(".js-faq-article"),Ct=function(){for(var t=bt.length,a=0;t>a;a++){var s=e(bt[a]);if(s.hasClass("active")){var i=s.find(".js-faq-body");i.height(i.children().innerHeight())}}};bt.on("click",function(t){var a=e(this),s=a.find(".js-faq-body"),i=e(t.target);!i.hasClass("js-more-faq")&&s.length&&(a.hasClass("active")?(a.removeClass("active"),s.removeClass("active").height(0)):(a.addClass("active"),s.height(s.children().innerHeight()).addClass("active")))}),i.resize(Ct);var wt=e(".js-sc-switcher"),xt=wt.length,kt=e(".js-sc-switch-btn"),yt=function(){for(var t=0;xt>t;t++){var a=e(wt[t]),s=a.find(".js-sc-switch-btn"),i=a.find(".js-sc-switch-content");if(a.height("auto"),s.length>1){a.hasClass("activated")||(a.addClass("activated"),s.removeClass("not-active").addClass("sc-switch-btn").first().addClass("active"),i.removeClass("not-active").first().addClass("active"));var n=0,o=0,r=0;s.each(function(){o+=parseInt(e(this).parent().outerHeight(!0))}),i.each(function(){var t=e(this).innerHeight();t>r&&(r=parseInt(t))}),n=Math.max(o,r),a.height(n)}}};if(i.load(function(){yt()}),i.resize(function(){yt()}),kt.on("click",function(){var t=e(this);if(t.hasClass("active")||!t.hasClass("sc-switch-btn"))return!1;var a=t.parent().index(),s=t.closest(".js-sc-switcher"),i=s.find(".js-sc-switch-btn"),n=s.find(".js-sc-switch-content"),o=n.eq(a);i.removeClass("active"),t.addClass("active"),n.removeClass("active"),o.addClass("active")}),e(".js-oss-switcher").length){var jt=e(".js-oss-switcher-tab"),Tt=e(".js-oss-switcher-content");jt.on("click",function(t){t.preventDefault();var a=e(this);if(a.hasClass("active"))return!1;var s=e(this).attr("data-switch");jt.removeClass("active"),Tt.removeClass("active");var i=e(Tt[s]);a.addClass("active"),i.addClass("active")})}e(".js-oss-features-slider").length&&(e(".js-oss-features-slider").slick({infinite:!0,slidesToShow:3,slidesToScroll:3,autoplay:!0,autoplaySpeed:4e3,dots:!0,responsive:[{breakpoint:770,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:580,settings:{slidesToShow:1,slidesToScroll:1}}]}),e(".js-oss-features-slider").on("setPosition",function(){e(this).find(".slick-slide").height("auto");var t=e(this).find(".slick-track"),a=e(t).height();e(this).find(".slick-slide").css("height",a+"px")}));var _t=e(".js-goodfirm-reviews"),St=function(){var e=.5;770>v&&(e=1),_t.height(_t.width()*e)};St(),i.resize(St);var It,Qt=function(e){return e.find(".loaded").length},zt=function(t){$t.removeClass("loaded-pict"),e(".js-webix-slide:first-child").addClass("active"),e(".js-webix-nav:first-child").addClass("active");var a=setInterval(function(){t==Qt(Lt)&&(clearInterval(a),Lt.addClass("active"))},100)},Ot=function(t,a){var s=e(".js-webix-slide[data-number='"+t+"']"),i=e(".js-webix-slide[data-number='"+a+"']");s.removeClass("active").addClass("hidden"),i.removeClass("hidden").addClass("active"),Pt(a),setTimeout(function(){s.removeClass("hidden"),setTimeout(function(){Ut=!0},200)},800)},Dt=function(){Ut=!1,At=Et,Et++,Et>=Mt&&(Et=0),Ot(At,Et)},Pt=function(t){Nt.removeClass("active"),e(".js-webix-nav[data-number='"+t+"']").addClass("active")},Ht=function(){It=setInterval(function(){Dt()},2500)},qt=e("#webix-apps-section"),Et=0,At=0,Lt=e("#webix-apps"),$t=e(".js-webix-slide"),Mt=$t.length,Ft=e(".js-webix-prev"),Rt=e(".js-webix-next"),Nt=e(".js-webix-nav"),Ut=!0;Ft.on("click",function(e){e.preventDefault(),It&&clearInterval(It),Ut&&(Ut=!1,At=Et,Et--,0>Et&&(Et=Mt-1),Ot(At,Et))}),Rt.on("click",function(e){e.preventDefault(),It&&clearInterval(It),Ut&&Dt()}),Nt.on("click",function(t){if(t.preventDefault(),It&&clearInterval(It),Ut){Ut=!1,At=Et;var a=e(this);Et=a.attr("data-number"),Ot(At,Et)}}),qt.length&&(zt(Mt),nt(qt,Ht,150),i.scroll(function(){nt(qt,Ht,150)}));var Wt=e(".js-cookie-notification"),Zt=e(".js-set-notification-cookie"),Vt=function(){var e=Cookies.get("cookie_notification");console.log("c_n_init: "+Cookies.get("cookie_notification")),"set"!=e?Wt.removeClass("hidden"):Wt.remove()};Vt(),Zt.on("click",function(e){e.preventDefault(),Cookies.expire("cookie_notification"),Cookies.set("cookie_notification","set",{expires:1/0}),console.log("c_n: "+Cookies.get("cookie_notification")),Wt.addClass("hidden")});var Yt=e(".js-landing-cases"),Bt=e(".js-dev-app"),Gt=!1,Jt=function(){var t=Bt.length,a=0;Gt=setInterval(function(){a>=t-1&&(setTimeout(function(){e(Bt[a-1]).removeClass("active")},1e3),clearInterval(Gt)),e(Bt[a-1]).removeClass("active"),e(Bt[a]).addClass("active"),a++},1e3)};Yt.length&&i.load(function(){nt(Yt,Jt,300),i.scroll(function(){nt(Yt,Jt,300)}),Bt.on("mouseenter",function(){Gt&&(clearInterval(Gt),Bt.removeClass("active"))})}),s(),e(".js-to-anchor").on("click",function(t){t.preventDefault();var a=e(this).attr("href");e(a).ScrollTo({easing:"easeInOutCubic",duration:1500})})}(jQuery);